<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>黄奇帆解读房地产 |  Carpe Diem</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon1.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Carpe Diem" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-黄奇帆解读房地产"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  黄奇帆解读房地产
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/04/10/%E9%BB%84%E5%A5%87%E5%B8%86%E8%A7%A3%E8%AF%BB%E6%88%BF%E5%9C%B0%E4%BA%A7/" class="article-date">
  <time datetime="2022-04-10T06:50:11.000Z" itemprop="datePublished">2022-04-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%A1%8C%E4%B8%9A%E7%A0%94%E7%A9%B6/">行业研究</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">4.2k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">14 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <!-- toc -->

<ul>
<li><a href="#%E6%88%BF%E5%9C%B0%E4%BA%A7%E8%BF%87%E5%8E%BB%E7%88%86%E7%82%B8%E5%BC%8F%E5%8F%91%E5%B1%95%E5%8E%9F%E5%9B%A0">房地产过去爆炸式发展原因</a></li>
<li><a href="#%E5%BD%93%E5%89%8D%E5%8D%81%E4%B8%AA%E6%8C%87%E6%A0%87%E5%87%BA%E7%8E%B0%E6%8B%90%E7%82%B9">当前十个指标出现拐点</a></li>
<li><a href="#%E6%9C%AA%E6%9D%A5%E6%88%BF%E4%BA%A7%E5%95%86%E8%BF%90%E8%A1%8C%E6%96%B9%E5%BC%8F%E4%BA%94%E4%B8%AA%E8%B0%83%E6%95%B4">未来房产商运行方式五个调整</a></li>
<li><a href="#%E6%9C%AA%E6%9D%A5%E6%88%BF%E4%BB%B7%E5%88%A4%E6%96%AD">未来房价判断</a></li>
<li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%A8%B3%E5%AE%9A%E6%88%BF%E5%9C%B0%E4%BA%A7">为什么要稳定房地产</a></li>
<li><a href="#%E6%88%BF%E5%9C%B0%E4%BA%A7%E9%87%8D%E7%BB%84%E4%BA%94%E7%A7%8D%E6%96%B9%E5%BC%8F">房地产重组五种方式</a></li>
</ul>
<!-- tocstop -->

<p>原文地址：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/6f7ZpIQlPKo0UTEMfZZAPw">黄奇帆独家解读房地产：五招可实现房地产“软着陆”</a></p>
<p>视频地址：<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=2ldjw03uj2c">黄奇帆：聊一波房地产</a></p>
<p>在当前房地产企业不断暴雷、房地产行业急速收缩的背景下，黄奇帆从宏观层面对地产行业进行了探讨。本文基于《财经》杂志总编辑王波明与黄奇帆的对话进行整理，并对部分提到的数据进行检索与核实。</p>
<p>本文首先回顾房地产爆炸式增长的原因，主要在于相关政策释放了极大的空间，之后探讨当前的房地产市场，用10个指标表明目前房地产市场不同于以往，拐点已经来临，并紧接着对地产商以及房价未来的可能演变进行分析。在描绘了未来的场景后，又着眼于当下，论述在房企雷声滚滚的环境中，稳定房地产的重要性，并对地产商重组的主要方式进行了归纳。</p>
<p>整篇对话逻辑清晰，数据详实，看完视频后不得不让人感叹黄市长业务水平之高，让人难以望其项背。</p>
<p>王波明简介：毕业于美国哥伦比亚大学国际金融专业，中国改革开放后最早的一批留学生之一，曾在美国纽约交易所任职。1987年回国后，积极推动、策划并参与了中国证券市场的创建。1990年代初，亲自组织和实施了许多重大项目的投资，开创了多项投融资先例，是中国投资方面资深专家和经济学家。其父王炳南曾任外交部副部长，文革后复出后任中国人民对外友好协会会长。其兄王东明曾任中信证券董事长，2016年退休。</p>
<h1><span id="房地产过去爆炸式发展原因">房地产过去爆炸式发展原因</span></h1><p>1980年中国1.8亿城市居民的人均住房面积是5平方米，目前人均住房面积是50平方米，之前住房需求被压缩到了极致。</p>
<p>1980年中国整个商业、服务业规模只有1000亿，经济发展程度很低，现在是160万亿。在当时中国经济极度萎靡不振、城市住宅需求极度压缩的背景下，一旦外部条件释放，房地产就会爆炸式地发展。</p>
<p><strong>3个释放劳动力的制度（主要针对农村）为城市化大发展提供了基础性劳动力：</strong></p>
<ul>
<li>土地承包制。5亿种地的农民只剩2亿，有3亿释放到沿海城市。</li>
<li>农民可以离土离乡了。原有的户籍制度下户口绝对管制，农民是不能到城里面工作的，从80年代初期起农民可以到城里打工了。</li>
<li>落户制度。农民在城里打工十年以上，就可以在一些大中小城市落户了，于是不断有农民落户到城市，我们1.8亿的城市人口增加到了9亿。</li>
</ul>
<p><strong>3个城市相关的政策助推房地产的发展：</strong></p>
<ul>
<li>城市实行土地批租制度，有了房产商了。</li>
<li>老百姓有了自己拥有产权的家庭住房。之前大部分人住的都是单位的公房，1992年、1993年开始，所有公房可以变成私房。</li>
<li>按揭贷款出来了。按揭贷款是推动中国房地产市场发展的重要因素，老百姓全款买房是买不动的，有了按揭贷款房产交易就多了。</li>
</ul>
<p><strong>此外，还提到了2个政策，对城市化的发展起到加速作用：</strong></p>
<ul>
<li>政府推出了像上海浦东这样的投融资平台。</li>
<li>国家又设立了开发区，每个开发区都相当于一个经济发展的增长极。</li>
</ul>
<p><strong>最终的结果体现在新增房产面积的变化：</strong></p>
<ul>
<li><strong>1990年</strong>中国一年造的房产面积是1000万平方米；<strong>2000年</strong>，由房产商主导建设的建筑面积达到了1亿平方米；<strong>2010年</strong>，这个数字变成了10亿平方米；<strong>2017年</strong>，中国房产商建的房子是17亿平方米，去年<strong>2021年</strong>新建房总量在16.5亿左右。所以大体上到2017年17亿打住，后面三年没有再涨。</li>
</ul>
<p>注：这一部分对于地产发展的归因侧重点主要是基于城市化发展的大逻辑，主要还是侧重于需求端的角度在分析。实际上房地产市场本身就是一个受需求影响变动明显的行业，展现在数据上就是房地产市场量价的同向变化。</p>
<h1><span id="当前十个指标出现拐点">当前十个指标出现拐点</span></h1><p><strong>人口角度三个指标，影响住房结构，减少住房需求：</strong></p>
<ul>
<li>总人口14亿是天花板，未来人口会逐渐减少。</li>
<li>中国的城市化率已经到了65%了，几乎等同于美国、欧洲的75%，因为中国的城市化率实际上是把农村里面的青年人、中年人给抽出来了。所以城市化再往上也就5、6个点的上升空间。</li>
<li>中国的老龄化在不断加深，去年已经到了21%，预计2035年会达到30%以上，甚至2050年以后到40%、50%都可能。老龄化越高需要的新房越少，同时死亡率增加还会退出很多房子来。</li>
</ul>
<p><strong>人均住房面积至天花板，改善型需求空间不大：</strong></p>
<ul>
<li>2020年中国人均住房面积就达到了50平方米，全世界发达国家人均50就是天花板，想泡沫化需求都泡不出来的。</li>
</ul>
<p><strong>配套设置带来的需求未来难以有增量：</strong></p>
<ul>
<li>危旧房改造、旧城改造，这些大规模的基础设施建设也基本完成了，没有更多的需求了。</li>
<li>城市的学校、医院建设也到头了。1980年，大学在校生的人均学校用地面积只有10平方米，教育部当时就制定了一个制度，大学在校生人均学校用地要达到50平方米。现在全中国有3000多所大学，人均50平方米的指标已经达到了，不需要再扩张了。</li>
</ul>
<p><strong>供给端存量房积压、年新增量持续放缓：</strong></p>
<ul>
<li><p>去年为止，中国房产商手中一年以上没卖掉的现房有6亿平方米，这就是<strong>一手房库存</strong>。同时中国老百姓手里的房产，购买后<strong>没有自住也没有出租的闲置房</strong>有20%。中国这些年来总房屋面积接近400亿平方米，其中新建商品房和1990年以后卖掉的、老百姓持有的房产有300亿平方米，现在这300亿中有60亿平方米是闲置的。</p>
<p>在每年涨价20%、30%的市场环境中，就算有一两套房子闲置我也不怕，房子还在涨价我心里就是高兴的。房产商也一样，房价上涨了他会觉得没卖掉反而划算。但一旦房价不涨了，这些库存就都是积压，会让新建房需求大幅萎缩。</p>
</li>
<li><p>年度房地产建设量，2000年是1亿平方米，2010年10亿平方米，到了2016、2017年17亿平方米，17年翻了四番。17亿什么概念你知道吗？全世界70多亿人，2020年中国之外新建房面积是20亿平方米，中国造了全世界的一半。<strong>中国14亿人房产建设量凭什么占全世界的一半？过去30年我们有这个需求可以去扩张，现在已经扩张到人均住房50平方米了还这么造，没这个可能，也没这个需求了</strong>。</p>
</li>
</ul>
<p><strong>房价与地价过去20年增长较为明显，该规律未来难以维持：</strong></p>
<ul>
<li><p>中国的土地价格和房产价格，20年里也翻了四番。上海房价最贵的地方——衡山路，20年是6000多块一平方米，现在那边的房价是14万、15万一平方米，涨了20倍。新疆乌鲁木齐二道桥，2000年房子700多块一平方米，现在一万几千块、2万块，也差不多翻了四番。</p>
<p>我讲这两个例子是想说，过去20年全国的房价都在原来的基数上翻了四番，基本如此。土地价格也是从每亩100万，变成1000万、2000万，十几倍地涨。</p>
<p>当一个地方的房价、地价有5年翻一番、20年翻四番的趋势存在的时候，所有房产商都会囤房，哪怕造了房子卖不掉过个5年也能涨价，所以大家都不怕库存不怕规模，都拼命融资贷款，这个规律是前面20年如此的七个指标给宠出来的、惯出来的。</p>
</li>
</ul>
<p><strong>房地产金融的扩张基本到头：</strong></p>
<ul>
<li>中国房地产商负债率高达90%，你总不能零资产，再过十年负债率也不会变成105%的，未来负债率只会逐渐降低。</li>
</ul>
<h1><span id="未来房产商运行方式五个调整">未来房产商运行方式五个调整</span></h1><ul>
<li>全世界的房产商负债率没有超过50%的，香港的房产商全部的负债率都不超过40%，中国大陆到了80%、90%，这是过去的三高——地价、房价、市场需求量猛增16倍导致的。一旦这个需求没有了，房地产商就会进入一个新常态，负债率从90%下降到80%、70%、50%甚至40%。我们现在的三条红线定在70%，是因为现在房企负债率都在80%、90%，等到他们自己一旦降下来了70%是挡不住的，它会继续自己往50%、40%降。</li>
<li>高地价的买地、大楼盘的造房，造成了大量库存的状态今后会收敛，房产商会实事求是地根据市场需求结构性开发。</li>
<li>房产商疯狂跨界搞概念、又搞商业、又搞工业、又搞制造业，觉得房产商赚了钱以后就可以各个领域乱搞的，术业有专攻，以后他们就不再胡闹了。</li>
<li>房产商乱生子公司、房产商多如牛毛的状态会减少。中国独立法人的房产公司有9万个，我们有9亿城市人口，平均下来1万人一个。整个美国法人登记的房产公司不超过500个，我们的开发商比全世界其他国家的开发商加起来还多。以后中国房产商用不了这么多，有1万个就不得了了，所以今后十来年法人登记率会不断注销，有的是倒闭，有的是自己转行关闭等等。</li>
<li>房产商卖房不再是造100万卖100万的大周转，以后可能会变成造50万，有25万是商品房卖掉，另外25万是商业性的租赁房，作为商租、商租公寓销售。商租两用的资本金很容易解决，房产一旦可以对外租赁，预期的租金收益就可以去发ABS（资产证券化）证券，房地产的ABS产品是叫REITs，REITs基金一发，资本市场的资金就来了，能覆盖它一半的资本，负债率也下降了，剩下的资金由银行贷款、卖房回款再覆盖另一半，反而变成了一个均衡。</li>
</ul>
<p>黄市长认为，现在不用担心这一次的房地产阵痛会怎么样，这个阵痛恰恰是中国房地产发展到了这一步带来的一个必然的拐点，这个拐点不是政府约束导致的，在市场的扩张期哪怕政府拼命约束，房产商也还是会拼命炒，但到了环境土壤转轨的阶段，房产商的行为方式就会自己转到我刚才说的五种状态，这时候只要政府在旁边正常引导，就会形成“房住不炒”的良性循环。当下的拐点和阵痛，正是良性循环的开始。</p>
<h1><span id="未来房价判断">未来房价判断</span></h1><ul>
<li>对于未来每年的新增投资，会逐年下降，最高峰时一年建设17亿平方米，以后建设量可能会稳定在每年10亿平方米，</li>
<li>对于房价，首先明确的是过去那种十五年、二十年翻四番，这种幅度的房价、地价上涨现在到头了；<br>以后十年也会往上涨，但是每年上涨的幅度会低于GDP增长率，并没有房价五年低一半、十年再低一半这种概念。</li>
<li>现在中国差不多有400亿平方米的城市住房，今后的十几年，每年10多亿增量加上去，最终城市住房面积可能会在500多亿平方米左右。房产总有折旧，如果我们有550亿平方米，每年折旧2%或者1.5%，差不多每年折旧的房产就是10亿，那房产商每年就造10亿平方米用来迭代，不要去造20亿。这个时候形成的可循环、可持续的状态，就是以折旧为基准的宏观平衡。</li>
</ul>
<h1><span id="为什么要稳定房地产">为什么要稳定房地产</span></h1><ul>
<li>房地产是支柱产业，差不多占了GDP5%到10%的份额，它增长可以影响10%，负增长也影响10%，一上一下就是20%，所以房地产是支柱产业，要稳定；</li>
<li>房地产也是民生产业，中国老百姓的财富60%是房产，也该稳定；</li>
<li>房地产是半金融企业，里面有大量的按揭贷款，一旦崩盘会对金融机构造成很大的冲击；</li>
<li>房地产是龙头企业，关联着大量的供应链上的工业企业，带动几十个工业的销售产品、消费品。</li>
</ul>
<p>政府当下对这些困难房产商不是简单地去救，一旦它要崩盘，它的债务实际上就要进入破产重整的保全，但它的资产不是房产商的，而是债权人的。这个债权人包括银行、非银行或者老百姓集资款的债主，也包括贷款买了期房还没拿到房子的购房者，他们也是债权人，还有许多施工队没拿到施工欠款。</p>
<p>对这样的资产如果简单让它破产，会造成社会震荡。要让它软着陆就得用重组的办法，重组是一切危机中实现软着陆的重要方法。</p>
<h1><span id="房地产重组五种方式">房地产重组五种方式</span></h1><ul>
<li>大型的房产商：出了问题的大型房产商要自救，自我重组壮士断臂，保存最主要的一个肌体，不使得整体上瘫痪；<strong>（自救）</strong></li>
<li>优势的房产商、没出问题的房产商去收购、兼并、重组出问题的房产商；<strong>（房企间的收并购）</strong></li>
<li>我们国有资本运营公司也可以拿出它的资本金，成为战略投资者入股到那些优势房产商，去收购兼并；<strong>（国企对房企的收并购）</strong></li>
<li>地方政府也可以拿出一定的钱把过去10年5年批租给房产商的地，根据现在的市场行情打个折回购，而不是没收，因为这个地事实上已经是债权人的了，你无权去没收它。回购以后资金封闭运行用来还债，这也是一种重组；<strong>（政府回购土地）</strong></li>
<li>政府也可以回购一部分房产商库存的房屋，回购后中低端的成为保障房，中高端的成为人才房。<strong>（政府回购住房）</strong></li>
</ul>
<p>这五个渠道进行重组的时候当然需要资金，这种资金国家可以设立专项债或者专门的贷款，不放在三条红线里，算体外循环，这也是一种办法。总之最后的结果，是实现房地产平稳落地、软着陆。在新的拐点下，房地产也好、政府的条款方式也好，都会随着新的形势进入良性循环的状态。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2022/04/10/%E9%BB%84%E5%A5%87%E5%B8%86%E8%A7%A3%E8%AF%BB%E6%88%BF%E5%9C%B0%E4%BA%A7/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9C%B0%E4%BA%A7/" rel="tag">地产</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/2022/04/04/%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB%E4%B8%80%E6%9C%AC%E4%B9%A6/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">如何阅读一本书</div>
      </a>
    
  </nav>

  
   
    
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2022
        <i class="ri-heart-fill heart_icon"></i> Feng Yu
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/favicon1.ico" alt="Carpe Diem"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i></p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->

<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>

</html>